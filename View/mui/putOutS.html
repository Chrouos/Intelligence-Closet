<!DOCTYPE html>
<!-- start tag -->
<html ng-app="myApp" ng-controller="myCtrl">

<head>

  <!-- Set -->
  <title>拿取(自選)</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">

  <!-- Package -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js"></script>
  <script src="https://kit.fontawesome.com/8ede13235f.js" crossorigin="anonymous"></script>
  <script type="text/javascript" src="/eel.js"></script> <!-- eel.js 是使用eel的必須  -->

  <!-- Connect -->
  <script src="./js/putOutS.js"></script>

  <!-- Css -->
  <link rel="stylesheet" href="./public/css/putOutS.css" type="text/css">

</head>

<body>

  <div id="putOS-main">

    <!--選單-->
    <div id="class-main">
      <div id="btn-class-main" onclick="clickClass_main()"><a style="position:relative; left: 10px;"><i
            class="fa fa-list-ul" aria-hidden="true"></i> 篩選器</a><a
          style="display:inline; font-size: 25px;">&nbsp&nbsp&nbsp{{nowSubCategory}}</a></div>
      <hr class="hrSet" />
      <div id="class-st">
        <!--最愛-->
        <div class="class-nd">
          <div style="position:relative; left: 8px; font-size:25px;"><a>收藏</a></div>
          <hr class="hrSet" />
          <div class="class-rd" onclick="clickClass_set(this)"><a>全部</a></div>
          <div class="class-rd" onclick="clickClass_set(this)"><a>上半身</a></div>
          <div class="class-rd" onclick="clickClass_set(this)"><a>下半身</a></div>
          <div class="class-rd" onclick="clickClass_set(this)"><a>其他</a></div>
        </div>

        <!--上半身-->
        <div class="class-nd">
          <div style="position:relative; left: 8px; font-size:25px;"><a>上半身</a></div>
          <hr class="hrSet" />

          <div class="class-rd" onclick="clickClass_set(this)" ng-click="queryClothesByCategory(1)">
            <a>全部</a>
          </div>

          <div ng-repeat="upper in upperList" class="class-rd" onclick="clickClass_set(this)"
            ng-click="queryClothesBySubCategory(upper.Id, upper.Name)">
            <a>{{upper.Name}}</a>
          </div>
        </div>

        <!--下半身-->
        <div class="class-nd">
          <div style="position:relative; left: 8px; font-size:25px;"><a>下半身</a></div>
          <hr class="hrSet" />

          <div class="class-rd" onclick="clickClass_set(this)" ng-click="queryClothesByCategory(2)">
            <a>全部</a>
          </div>


          <div ng-repeat="lower in lowerList" class="class-rd" onclick="clickClass_set(this)"
            ng-click="queryClothesBySubCategory(lower.Id,lower.Name)">
            <a>{{lower.Name}}</a>
          </div>

        </div>

        <!--其他-->
        <div class="class-nd">
          <div style="position:relative; left: 8px; font-size:25px;"><a>其他</a></div>
          <hr class="hrSet" />

          <div class="class-rd" onclick="clickClass_set(this)" ng-click="queryClothesByCategory(3 )">
            <a>全部</a>
          </div>


          <div ng-repeat="other in otherList" class="class-rd" onclick="clickClass_set(this)"
            ng-click="queryClothesBySubCategory(other.Id,other.Name)">
            <a>{{other.Name}}</a>
          </div>
        </div>
      </div>

      <!-- 結束 -->
      <div class="class-rd" onclick="clickClass_set(this)" ng-click="queryClothesByCategory(0)">
        <a>全部</a>
      </div>

      <hr class="hrSet" />
    </div>

    <!-- 衣物列表 -->
    <div class="grid-container">
      <div class="grid-item" ng-repeat="clothesNode in clothesNodeList" ng-init="outerIndex = $index" id="hahaha">
        <a ng-click="checkThePickUpList(clothesNode)">
          <img src="{{clothesNode.FilePosition}}" id="clothesNode_{{clothesNode.Id}}" onmousedown="holdDown(this)"
            onmouseup="holdUp()">
        </a>
      </div>
    </div>

    <!-- button -->
    <div>
      <div class="btn-rb-three" ng-click="changePickUpType()" ng-show="!takeType">
        <a class="btm-rb-three-n">單件拿取</a>
      </div>
      <div class="btn-rb-three" ng-click="changePickUpType()" ng-show="takeType">
        <a class="btm-rb-three-n">整套拿取</a>
      </div>

      <div class="btn-rb-two" ng-click="">
        <a class="btm-rb-two-n" ng-click="getThePickUpList()">拿 取</a>
      </div>
    </div>

    <!-- 選取預覽 -->
    <div id="preview" ng-show="takeType">
      <div class="preview-i">
        <i class="fa-solid fa-plus"></i>
        <img ng-show="pairPickUpList[0]" src="{{pairPickUpList[0].FilePosition}}">
      </div>
      <div class="preview-i">
        <i class="fa-solid fa-plus"></i>
        <img ng-show="pairPickUpList[1]" src="{{pairPickUpList[1].FilePosition}}">
      </div>
    </div>

  </div>

  <!---------------------------------------------------------------------------------------------------------------->
  <div id="putOS-Info" ng-show="putOStype">
    <!--TODO:連接資料-->
    <!-- 衣物照片 -->
    <div class="pictures-one">
      <a><img src=" {{info_clothesNode.FilePosition}}"></a>
    </div>

    <!-- 衣物資訊/設定 -->
    <div class="clothesInfo">
      <div>
        <p style="display: inline;">顏色: {{info_clothesNode.ColorName}}</p>
      </div>
      <div>
        <p style="display: inline;">樣式: {{info_clothesNode.SubCategoryName}}</p>
      </div>
      <div>
        <p style="display: inline;">使用次數: {{info_clothesNode.UsageCounter}} </p>
      </div>
      <div>
        <p style="display: inline;">最後使用時間: {{info_clothesNode.ModifyTime}} </p>
      </div>

      <div>
        <span ng-show="!info_clothesNode.IsFavorite" style="color: rgb(196, 196, 196);position:relative;left: 2px;"><i
            class="fa-solid fa-heart"></i>
        </span>
        <span ng-show="info_clothesNode.IsFavorite" style="color: rgb(255, 0, 0);position:relative;left: 2px;"><i
            class="fa-solid fa-heart"></i>
        </span>
      </div>
    </div>
    <div>
      <div class="btn-rb-one" onclick="showMask()" ng-click="backToMain()"><a class="btm-rb-one-n" onclick="showMask()" ng-click="backToMain()">返 回</a></div>
    </div>

  </div>

  <!---------------------------------------------------------------------------------------------------------------->

  <!-- 遮罩 -->
  <div id="mask" style="visibility: hidden"></div>
  <div id="maskT" style="visibility: hidden"></div>

  <!-- Menu -->
  <div id="menu">
    <ul>
      <li>
        <a href="./user.html">
          <span class="icon"><i class="fa-solid fa-user"></i></span>
          <span class="menu-button">登入/登出</span>
        </a>
      </li>
      <li>
        <a href="./putIn.html">
          <span class="icon"><i class="fa-solid fa-arrow-up-wide-short"></i></span>
          <span class="menu-button">收納</span>
        </a>
      </li>
      <li>
        <a href="./putOutI.html">
          <span class="icon"><i class="fa-solid fa-shirt"></i></span>
          <span class="menu-button" ng-click="takeOut()">拿取(推薦)</span>
        </a>
      </li>
      <li style="background-color: rgb(255, 255, 255);">
        <a href="./putOutS.html">
          <span class="icon"><i class="fa-solid fa-arrow-down-short-wide" style="color: rgb(161, 175, 255);"></i></span>
          <span class="menu-button" style="color: rgb(161, 175, 255);">拿取(自選)</span>
        </a>
      </li>
      <li>
        <a href="./setting.html">
          <span class="icon"><i class="fa-solid fa-gear"></i></span>
          <span class="menu-button">衣物設定</span>
        </a>
      </li>
      <li>
        <a href="./other.html">
          <span class="icon"><i class="fa-solid fa-clock"></i></span>
          <span class="menu-button">其他</span>
        </a>
      </li>
      <li>
        <a href="./instruction.html">
          <span class="icon"><i class="fa-solid fa-person-chalkboard"></i></span>
          <span class="menu-button">使用說明</span>
        </a>
      </li>

    </ul>
    <div id="main-button" onclick="ClickMenu()"></div>
    <!-- Menu class 更改 -->
    <script>
      let Mask = document.getElementById('mask');
      let Menu = document.getElementById('menu');
      let MaskT = document.getElementById('maskT');

      function ClickMenu() {
        Menu.classList.toggle('active');
        if (Mask.style.visibility == '') {
          Mask.classList.toggle('active');
          setTimeout(function () {
            Mask.style.visibility = 'hidden';
          }, 500);
        } else {
          Mask.style.visibility = '';
          Mask.classList.toggle('active');
        }
      }
      function showMask() {
        if (MaskT.style.visibility == '') {
          MaskT.style.visibility = 'hidden';
          MaskT.classList.toggle('active');
        } else {
          MaskT.style.visibility = '';
          MaskT.classList.toggle('active');
        }
      }
    </script>
  </div>

  <!-- class-main 更改 -->
  <script>
    let classSet = document.getElementById('class-main');
    let lestClick = "none";

    function clickClass_main() {
      classSet.classList.toggle('active');
    }

    function clickClass_set(set) {
      if (lestClick == "none") {
        lestClick = set;
        set.classList.toggle('active');
        setTimeout(function () {
          classSet.classList.toggle('active');
        }, 200);
      } else {
        lestClick.classList.toggle('active');
        lestClick = set;
        set.classList.toggle('active');
        setTimeout(function () {
          classSet.classList.toggle('active');
        }, 200);
      }
    }
  </script>

</body>

</html>
<!-- end tag -->